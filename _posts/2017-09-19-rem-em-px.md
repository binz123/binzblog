---
layout: post
title: 详细解析rem,em,px
categories: css
description: 回顾rem,em,px
keywords: css, 前端
---

## 说明

刚开始学习前端的时候，对字体大小的设置总是有种莫名的害怕，因为那个时候虽然对rem,em,px这三兄弟有所了解，但并没有做到胸有成竹的感觉，这就导致了很多时候自己在新写一个页面的时候充满了困惑。后来通过看书跟实践终于彻底弄懂了。最近项目新人进来，将所有的字体都设置成了px（并不是说px不好），使得页面在字体放大的情况下严重变形，后来发现还是对css基础不过关的问题。给他讲解的同时自己也回顾了一下知识点，正好做个总结把。

## 1.rem,em,px介绍

**px**

px是相对长度单位，这里的相对与em与rem不同，它指的是相对于屏幕分辨率。

**em**

em也是相对长度单位，相对的是当前对象内文本的字体尺寸。如当前对行内文本的字体尺寸未被人设置，则相对于浏览器的默认字体尺寸。

**rem**

rem是css3中新增一个相对单位（root em）,这个root就已经说明了它的含义，虽然与em一样也是相对，但是它指代的是相对html根元素。

## 2.px详解

px相对屏幕分辨率，我们的设备显示图像都是由无数个小点组成，而px也就是屏幕设备物理上所能显示的最小的点，由于不同设备的屏幕分辨不尽相同，所以不同设备上点的长宽，比例有可能不同。

举个例子：
我们在I品牌手机上1px宽 = 1毫米，而在A品牌上1px宽 = 2毫米。
此时定义一个div的宽度为10px，那么I品牌上这个div的物理宽度就是10 x 1 = 10毫米，而A品牌上则是10 x 2 = 20毫米。如果二者的长宽比不同，则有可能出现不是正方形的div。

px具有以下特点：
> 1.IE中无法调整那些使用px作为单位的字体大小。

> 2.Chrome中字体最小设置为12px，当小于12px时自动设置12px；（解决方案：scale()）

## 3.em详解

> 重新读一遍em的概念，em是相对长度单位。相对于 __当前对象内文本的字体__ 尺寸。如当前对行内文本的字体尺寸未被人设置，则相对于 __浏览器的默认字体__ 尺寸。

刚开始学em的时候，很容易这些定义弄的头晕目眩，有种雾里看花的感觉，似懂非懂。
这里强调的当前对象内文本的字体到底是什么意思呢？
例子1:
```html
<style>
  #container{
    font-size: 20px;
    width:2em;
    height:2em;
    background-color: red;
  }

  #child{
    width: 1em;
    height: 1em;
    background-color: blue;
  }
</style>


<body>
  <div id="container">
    <div id="child"></div>
  </div>
</body>
```

这段代码里，我们将id为container的容器字体尺寸设置为20px，宽与高分别是2em，也就是2 x 20px = 40px。它所相对的当前对象就是它自身的字体尺寸。

id为child的容器并未设置font-size的大小，但它作为container的子容器，继承了父级的字体尺寸，所以它自身的字体尺寸也是20px，对应的宽高分别是1 x 20px = 20px;如果我将child的字体尺寸设置为16px，也就是添加样式font-size:16px;它的宽高就变成了1 x 16px = 16px了。这里我们可以看到，em的值并不是固定的且em会继承父级元素的字体大小。

*任意浏览器的默认字体高都是16px。所有未经调整的浏览器都符合: 1em=16px*

也正是因为这两个特点，在使用em作为单位时都会有以下操作：
> 1.在body选择器中声明font-size:62.5%;(浏览器默认字体16px，16x62.5% = 10，便于后面计算)

> 2.在1的条件下，转换时候，使用相应px值除以10，将单位换成em。（原来：30px； 现在：3em）

> 3.避免多次声明font-size导致最终计算数值与预计不符。（例子一种：如果将#container与#child中font-size设置为1.2em，就会出现16px x 1.2 x 1.2=23.04的情况）


## 3.rem详解
rem是CSS3中新增的一个相对单位（root em，根em）。与em不同的是，rem只是相对与根元素（<html>），也就是就算在元素中多次声明font-size也不会导致rem的相对数值改变。我们通过修改<html>就可以成比例的调整所有字体的大小，通俗来说就是pm将屏幕分辨率换成了根元素，既有绝对也有相对。

例子2:
```html
<style>
  html{
    font-size: 62.5%;／*同em，便于计算*/
  }
  #container{
    font-size: 1.4rem;
    width: 4rem;
    height: 4rem;
    background-color: red;
  }
  #child{
    width: 2rem;
    height: 2rem;
    background-color: blue;
  }
</style>
<html>
<head>xxx</head>
<body>
  <div id="container">
    <div id="child"></div>
  </div>
</body>
</html>
```

> 可以看到在container中设置的rem并没有影响到child的宽度比，因为单位是rem，它的相对始终是html中设置的font-size的大小。
> 不过由于是CSS3的特性，在IE7与IE8中并不支持，所以当遇到需要兼容IE7，8的时候，最好还是使用px来做单位,如下：

```css
#container{
  font-size: 14px;
  font-size: 1.4rem;
}
```

### 4.总结
网上许多教程都说在需要兼容少的手机上使用rem，需要兼容多的手机上使用em，但真正的开发中，我们的受众用户群体也许是各色各样的，所以关于到底是使用哪个单位，还需要结合响应式开发来谈。
